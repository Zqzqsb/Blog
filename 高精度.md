---

title: 高精度
categories: 算法
---

# 高精度

### 1.  引言

在C++中提供了运算符和数据类型来支持我们做运算。

```c++
cout << 3 + 5 << endl;
```

但是C++中的数据类型在定义时就有固定大小的空间。 如int 为4字节 32为，最大表示范围为

```c++
cout << INT32_MAX << endl;

2147483647
```

高精度算法主要处理以下四类问题

+ A + B
+ A - B
+ A * n
+ A / n

其中 A , B的位数 <= 10^6 n <= 10000

### 2. 读入和存储

字符串的读入没有长度限制，这里首先读入字符串，再存入向量。

[注: 向量支持动态扩容，相比数组有更好的空间性能]

```c++
    string a , b;
    vector<int> A , B;
    
    cin >> a >> b; // 字符串的读入没有长度限制
    for(int i = a.size() - 1 ; i >= 0 ; i--) A.push_back(a[i] - '0');
    for(int i = b.size() - 1 ; i >= 0 ; i--) B.push_back(b[i] - '0');
```

另外在数组中采用小端存储的方式，即表现为倒着存储。如读入123 ，则向量中为

![数组存储表示](高精度\数组存储表示.jpg)

这是因为如果运算产生进位，那么把它直接加在尾部比较容易。

### 3. A + B 问题

```c++
vector<int> add(vector<int>& A , vector<int>& B)
{
    vector<int> R;
    
    int t = 0;
    // 在每一轮开始前 t都是前一位运算结果的进位
    for(int i = 0 ; i < A.size() || i < B.size() ; i++)
    {
        if(i < A.size()) t += A[i];
        if(i < B.size()) t += B[i];
        R.push_back(t % 10);
        t /= 10;
    }
    if(t) R.push_back(1);

    return R;
}
```

