---
title: Diameter oF Tree
tags:
  - 算法
  - 动态规划
  - 树形DP
createTime: 2024-10-23
author: ZQ
permalink: /algorithm/dp/tree/Diameter/
---

本文讲解了如何求解的树的直径问题。

<!-- more -->

## 问题定义

+ 路径：一棵树上，任意两个节点之间最多有一条简单路径。
+ 直径：一棵树上，最长的路径为树的直径

## 问题分析

### 树的基本性质

• **无环性**：树是一种无环图，每两个节点之间有且仅有一条路径。
• **连通性**：树是连通图，所以从任意一个节点出发，总能到达树中的其他所有节点。

由于树没有环，从任意一个节点出发到达最远的节点时，路径必然是唯一的，并且没有返回原节点的可能。

###  边缘点更远

当我们从树的任意节点出发执行`DFS`（或`BFS`）时，路径不断向树的深处探索。离起始点最远的那个节点必然在树的最外围，即“树的边缘”，因为在一个树形结构中，边缘节点（叶子节点）是距离其他部分最远的节点之一。

### 找到直径端点

从任意一个节点 `u` 开始执行`DFS`，找到了最远的节点 `v`。`v`必定在树的直径上。

**证明**

1. 假设从 `u` 出发找到的最远节点`v` 不是树直径的端点。
2. 如果 `v` 不是直径的一个端点，那么必然存在一个更远的点 `w`，使得 `w` 与另一个端点之间的路径比 `u` 到 `v` 更长。这与我们在`DFS`中从 `u` 出发找到`v` 作为最远节点的假设相矛盾。
	• 如果 w 在 v 的子树中，那么根据 DFS 的性质，DFS 会找到 w，而不是 v，作为距离 u 最远的节点，这和 DFS 得出的 v 是最远节点的结论矛盾。
	• 如果 w 在 u 和 v 之间的路径上，那意味着 w 不能比 v 更远，这又与假设矛盾。

  

